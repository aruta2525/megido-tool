<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="Cache-Control" content="no-cache" />

    <script src="../dist/hBomb.min.js" type="module"></script>
    <link rel="stylesheet" href="../dist/css/index.css" />
    <title>錬ボム ダメージ計算ツール</title>
  </head>
  <body>
    <div class="container-md container-wrap pt-2">
      <div class="row mb-2 d-flex align-items-end">
        <div class="flex col-8 align-items-end">
          <span class="title">錬ボム ダメージ計算ツール</span>
          <span class="version">v1.0.0</span>
        </div>

        <div class="col-2">
          <button type="button" class="btn btn-primary btn-sm" data-toggle="modal" data-target="#helpModal">
            ヘルプ
          </button>
        </div>

        <div class="col-2 presented-by">
          <span>presented by </span>
          <span><a href="https://twitter.com/aruta2525">aruta</a>.</span>
        </div>
      </div>

      <!-- HP行 -->
      <div class="row border border-bottom-0 px-0">
        <div class="form-group col-4 px-2">
          <label for="hp">敵HP</label>
          <input type="tel" id="hp" class="form-control" />
        </div>
        <div class="form-group col-4 px-2">
          <label for="defense">敵防御力</label>
          <input type="tel" id="defense" class="form-control" />
        </div>
        <div class="form-group col-4 px-2">
          <label for="defensiveDebuff">防御デバフ[%]</label>
          <input type="tel" id="defensiveDebuff" class="form-control" />
        </div>
      </div>
      <!-- 錬ボム付与者Lv -->
      <div class="row border-left border-right px-0">
        <div class="form-group col-12 px-2">
          <div class="form-group px-2 mb-1 row d-flex align-items-center">
            <div class="form-check col-3 ml-1">
              <input type="checkbox" class="form-check-input" name="checkbox" id="lvCheckbox" value="lv" title="逆引き時固定" checked />
              <label for="lvCheckbox" class="form-check-label">錬ボム付与者Lv</label>
            </div>
            <div class="col-3">
              <input type="number" class="form-control" id="lv" min="1" max="70" step="1" />
            </div>
          </div>

          <input type="range" id="lvRange" class="form-control-range col-12" min="1" max="70" step="1" list="lvList" />
          <datalist id="lvList">
            <option value="1"></option>
            <option value="10"></option>
            <option value="20"></option>
            <option value="30"></option>
            <option value="40"></option>
            <option value="50"></option>
            <option value="60"></option>
            <option value="70"></option>
          </datalist>
        </div>
      </div>

      <!-- 素材ボム数 -->
      <div class="row border-left border-right px-0">
        <div class="form-group col-12 px-2">
          <div class="form-group px-2 mb-1 row d-flex align-items-center">
            <div class="form-check col-3 ml-1">
              <input type="checkbox" class="form-check-input" name="checkbox" id="quantityCheckbox" value="quantity" title="逆引き時固定" checked />
              <label for="quantityCheckbox" class="form-check-label">素材ボム数</label>
            </div>
            <div class="col-3">
              <input type="number" class="form-control" id="quantity" min="1" max="100" step="1" />
            </div>
          </div>

          <input type="range" id="quantityRange" class="form-control-range" min="1" max="100" step="1" list="quantityList" />
          <datalist id="quantityList">
            <option value="1"></option>
            <option value="10"></option>
            <option value="20"></option>
            <option value="30"></option>
            <option value="40"></option>
            <option value="50"></option>
            <option value="60"></option>
            <option value="70"></option>
            <option value="80"></option>
            <option value="90"></option>
            <option value="100"></option>
          </datalist>
        </div>
      </div>

      <div class="row border-left border-right px-0">
        <div class="form-group col-12 px-2">
          <div class="form-group px-2 mb-1 row d-flex align-items-center">
            <div class="form-check col-3 ml-1">
              <input type="checkbox" class="form-check-input" name="checkbox" id="magnificationCheckbox" value="magnification" title="逆引き時固定" checked />
              <label for="magnificationCheckbox" class="form-check-label">錬ボム倍率</label>
            </div>
            <div class="col-3">
              <input type="number" class="form-control" id="magnification" min="0.1" max="50" step="0.1" />
            </div>
          </div>

          <input type="range" id="magnificationRange" class="form-control-range" min="0.1" max="50" step="0.1" list="magnificationList" />
          <datalist id="magnificationList">
            <option value="0.1"></option>
            <option value="10"></option>
            <option value="20"></option>
            <option value="30"></option>
            <option value="40"></option>
            <option value="50"></option>
          </datalist>
        </div>
      </div>

      <div class="row border-left border-right px-0">
        <div class="form-group col-12 px-2">
          <div class="form-group px-2 mb-1 row d-flex align-items-center">
            <div class="form-check col-3 ml-1">
              <input type="checkbox" class="form-check-input" name="checkbox" id="synchroCheckbox" value="synchro" title="逆引き時固定" checked />
              <label for="synchroCheckbox" class="form-check-label">同時爆破補正</label>
            </div>
            <div class="col-3">
              <input type="number" class="form-control" id="synchro" min="1.1" max="2.5" step="0.1" />
            </div>
          </div>

          <input type="range" id="synchroRange" class="form-control-range" min="1.1" max="2.5" step="0.1" list="synchroList" />
          <datalist id="synchroList">
            <option value="1.1"></option>
            <option value="1.5"></option>
            <option value="2.0"></option>
            <option value="2.5"></option>
          </datalist>
        </div>
      </div>

      <div class="row border-left border-right px-0">
        <div class="form-group col-12 px-2">
          <div class="form-group px-2 mb-1 row d-flex align-items-center">
            <div class="form-check col-3 ml-1">
              <input type="checkbox" class="form-check-input" name="checkbox" id="revisionDamageCheckbox" value="revisionDamage" title="逆引き時固定" checked />
              <label for="revisionDamageCheckbox" class="form-check-label">ダメージ補正</label>
            </div>
            <div class="col-3">
              <input type="number" class="form-control" id="revisionDamage" min="0" max="380" step="10" />
            </div>
          </div>

          <input type="range" id="revisionDamageRange" class="form-control-range" min="0" max="380" step="10" list="revisionDamageList" />
          <datalist id="revisionDamageList">
            <option value="0"></option>
            <option value="40"></option>
            <option value="80"></option>
            <option value="200"></option>
            <option value="240"></option>
            <option value="280"></option>
            <option value="380"></option>
          </datalist>
        </div>
      </div>

      <div class="row border-left border-right border-bottompx-0 damage-row">
        <div class="form-row col-12 px-2 mb-4">
          <label for="damage" class="col-12">ダメージ</label>
          <input type="tel" id="damage" class="form-control col-8 ml-2" style="text-align: center;" readonly />
          <button id="reverse" class="btn btn-primary col-3 ml-3">逆引き</button>
        </div>
      </div>
    </div>

    <!-- Modal -->
    <div class="modal fade" id="helpModal" tabindex="-1" role="dialog" aria-labelledby="modalLabel" aria-hidden="true">
      <div class="modal-dialog modal-lg">
        <div class="modal-content" role="document">
          <div class="modal-header">
            <h5 class="modal-title" id="modalLabel">ヘルプ</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>

          <div class="modal-body">
            <div class="help-subtitle">◆項目説明</div>
            <ul>
              <li>敵HP： 敵のHP</li>
              <li>敵防御力： 敵の防御力</li>
              <li>防御デバフ： 敵にかかっている防御力デバフ。複数かかってる場合は積算。単位は％</li>
              <li>錬ボム付与者Lv： 現在の錬ボムを最後に付与したメギドのLv</li>
              <li>素材ボム数： 素材に使った速、重、錬の合計数。最後に練った分も含む</li>
              <li>錬ボム倍率： 錬ボムの倍率</li>
              <li>同時爆破補正： 「1 + 0.1 × 【同ターンに爆発するボムの数】」。最大値は5体に3個ずつなので2.5</li>
              <li>
                ダメージ補正： ヒュトギンの奥義やシトリー（ラッシュ）の覚醒スキル（専用霊宝）によるHボムのダメージ上昇効果 ＆
                ジャガーノート等の被ダメ上昇効果。複数ある場合は加算。単位は％。
              </li>
            </ul>
            <div class="help-subtitle">◆逆引き機能の使い方</div>
            <ol>
              <li>敵HPや防御力を入力します。 ※HPは必須</li>
              <li>自動で算出させたい項目の左端にあるチェックを外す</li>
              <li>右下の逆引きボタンを押す</li>
              <li>敵HPを上回るようにチェックを外した項目が算出されます</li>
            </ol>
            <div>※算出は一定刻みで加算しているだけなので、最適解ではありません</div>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
