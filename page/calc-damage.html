<!DOCTYPE html>
<html lang="ja">
  <head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-EW9QES8TV6"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag('js', new Date());

      gtag('config', 'G-EW9QES8TV6');
    </script>

    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="Cache-Control" content="no-cache" />

    <script src="../dist/calcDamage.min.js" type="module"></script>
    <link rel="stylesheet" href="../dist/css/index.css" />
    <title>メギド72 スキルダメージ計算ツール</title>
  </head>
  <body>
    <div class="container-md container-wrap pt-2">
      <div class="row mb-2 align-items-end">
        <div class="col-8 col-sm-8 title-wrap">
          <span class="title">スキルダメージ計算ツール</span>
          <span class="version">v1.0.1</span>
        </div>

        <div class="col-2 col-sm-2 p-0">
          <button type="button" class="btn btn-info btn-sm help-btn" data-toggle="modal" data-target="#helpModal">
            ヘルプ
          </button>
        </div>

        <div class="col-2 col-sm-2 presented-by pl-0">
          <span>presented by </span>
          <span><a href="https://twitter.com/aruta2525">aruta</a>.</span>
        </div>
      </div>

      <!-- メギド行 -->
      <div class="row border border-bottom-0 px-0">
        <div class="form-group col-sm-6 col-12 px-2 mb-2">
          <label for="megido">メギド</label>
          <select title="" id="megido" class="selectpicker" data-live-search="true" data-width="100%" tabindex="1"> </select>
        </div>
        <div class="form-group col-sm-3 col-6 px-2 mb-2">
          <label for="offense">攻撃力</label>
          <input type="tel" id="offense" class="form-control" tabindex="2" />
        </div>
        <div class="form-group col-sm-3 col-6 px-2 mb-2">
          <label for="offensiveBuff">攻撃バフ[%]</label>
          <input type="tel" id="offensiveBuff" class="form-control" tabindex="3" />
        </div>

        <div class="form-group col-12 mb-0">
          <div class="row">
            <div class="col-12 px-2">
              <label for="megidoAbility">特性</label>
              <button
                type="button"
                class="btn btn-primary rounded-circle collapse-btn ml-1"
                data-toggle="collapse"
                data-target=".megido-ability"
                aria-expanded="false"
                title=""
              >
                <img src="../dist/img/plus.png" class="plus" />
              </button>
            </div>
          </div>
          <div class="row pr-2 mb-0 collapse megido-ability">
            <div class="col-12">
              <div class="row">
                <div class="col-5 px-2 mb-3">
                  <input type="text" id="megidoAbility" class="form-control" readonly />
                </div>
                <div id="megidoAbilityText" class="col-7 border border-light rounded ability-text mb-3"></div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- 霊宝行 -->
      <div class="row border-left border-right pr-2">
        <div class="col-12 px-2 pb-2">
          霊宝
          <button type="button" class="btn btn-primary rounded-circle collapse-btn ml-1" data-toggle="collapse" data-target=".multi-st" aria-expanded="false">
            <img src="../dist/img/plus.png" class="plus" />
          </button>
        </div>
        <!-- 霊宝1 -->
        <div class="form-group col-sm-12 mb-0 collapse multi-st">
          <div class="row mb-2">
            <div class="col-5 px-2">
              <select title="" id="sacredTreasure1" class="selectpicker" data-width="100%" tabindex="4"> </select>
            </div>
            <div id="sacredTreasureText1" class="col-7 px-2 border border-light rounded ability-text"></div>
          </div>
        </div>
        <!-- 霊宝2 -->
        <div class="form-group col-sm-12 mb-0 collapse multi-st">
          <div class="row mb-2">
            <div class="col-5 px-2">
              <select title="" id="sacredTreasure2" class="selectpicker" data-width="100%" tabindex="5"> </select>
            </div>
            <div id="sacredTreasureText2" class="col-7 px-2 border border-light rounded ability-text" data-width="100%"></div>
          </div>
        </div>
        <!-- 霊宝3 -->
        <div class="form-group col-sm-12 mb-0 collapse multi-st">
          <div class="row mb-2">
            <div class="col-5 px-2">
              <select title="" id="sacredTreasure3" class="selectpicker" data-width="100%" tabindex="6"> </select>
            </div>
            <div id="sacredTreasureText3" class="col-7 px-2 border border-light rounded ability-text" data-width="100%"></div>
          </div>
        </div>
        <!-- 霊宝4 -->
        <div class="form-group col-sm-12 mb-0 collapse multi-st">
          <div class="row mb-2">
            <div class="col-5 px-2">
              <select title="" id="sacredTreasure4" class="selectpicker" data-width="100%" tabindex="7"> </select>
            </div>
            <div id="sacredTreasureText4" class="col-7 px-2 border border-light rounded ability-text" data-width="100%"></div>
          </div>
        </div>
        <!-- 系譜 -->
        <div class="form-group col-12 mb-0 collapse multi-st">
          <div class="row">
            <div class="col-12 px-2">
              <label for="genealogy">系譜</label>
            </div>
          </div>
          <div class="row mb-2 pr-2">
            <div class="col-5 px-2">
              <input type="text" id="genealogy" class="form-control" readonly />
            </div>
            <div id="genealogyText" class="col-7 border border-light rounded ability-text"></div>
          </div>
        </div>
        <!-- 専用霊宝 -->
        <div class="form-group col-12 mb-0 collapse multi-st">
          <div class="row">
            <div class="col-12 px-2">
              <label for="personalSacredTreasure">専用霊宝</label>
            </div>
          </div>
          <div class="row mb-3">
            <div class="col-5 px-2">
              <select title="" id="personalSacredTreasure" class="selectpicker" data-width="100%" tabindex="8"> </select>
            </div>
            <div id="personalSacredTreasureText" class="col-7 px-2 border border-light rounded ability-text" data-width="100%"></div>
          </div>
        </div>
      </div>
      <!-- スキル行 -->
      <div class="row border-left border-right">
        <div class="form-group col-sm-4 col-6 px-2">
          <label for="skill">技</label>
          <select title="" id="skill" class="selectpicker" data-width="100%" tabindex="9"> </select>
        </div>
        <div class="form-group col-sm-2 col-3 px-1">
          <label for="skillLevels">スキルLv</label>
          <select title="" id="skillLevels" class="selectpicker" data-width="100%" tabindex="10"> </select>
        </div>
        <div class="form-group col-sm-2 col-3 px-1">
          <label for="mysteriesLevels">奥義Lv</label>
          <select title="" id="mysteriesLevels" class="selectpicker" data-width="100%" tabindex="11">
            <option value="0">1</option>
            <option value="1">2</option>
            <option value="2">3</option>
            <option value="3">4</option>
            <option value="4">5</option>
            <option value="5">6</option>
            <option value="6">7</option>
            <option value="7">8</option>
            <option value="8">9</option>
            <option value="9">10</option>
          </select>
        </div>
        <div class="form-group col-sm-2 col-6 px-2">
          <label for="">倍率</label>
          <input type="tel" id="magnification" class="form-control" tabindex="12" />
        </div>
        <div class="form-group col-sm-2 col-6 px-2">
          <label for="hit">Hit数</label>
          <input type="tel" id="hit" class="form-control" tabindex="13" />
        </div>
      </div>

      <!-- フォトン行 -->
      <div class="row border-left border-right align-items-center">
        <div class="form-group col-sm-3 col-3 px-2">
          <label for="photon">フォトン</label>
          <select title="" id="photon" class="selectpicker" data-width="100%" tabindex="14">
            <option value="0">通常</option>
            <option value="1">強化</option>
            <option value="2">劣化</option>
          </select>
        </div>
        <div class="form-group col-sm-3 col-3 px-2">
          <label for="classCorrection">クラス補正</label>
          <select title="" id="classCorrection" class="selectpicker" data-width="100%" tabindex="15">
            <option value="1">1</option>
            <option value="1.25">1.25</option>
            <option value="1.5">1.5</option>
          </select>
        </div>

        <div class="form-group col-sm-3 col-3 px-2">
          <div class="form-check">
            <input class="form-check-input" type="checkbox" value="" id="freeze" tabindex="16" />
            <label for="freeze" class="form-check-label">
              凍結
            </label>
          </div>
        </div>

        <div class="form-group col-sm-3 col-3 px-2">
          <div class="form-check">
            <input class="form-check-input" type="checkbox" value="" id="zombie" tabindex="17" />
            <label for="zombie" class="form-check-label">
              ゾンビ
            </label>
          </div>
        </div>
      </div>

      <!-- 敵行 -->
      <div class="row border-left border-right">
        <div class="form-group col-sm-3 col-3 px-2">
          <label for="stage">エリア</label>
          <select title="" id="stage" class="selectpicker" data-width="100%" tabindex="18"> </select>
        </div>
        <div class="form-group col-sm-6 col-6 px-2">
          <label for="enemy">敵の名前</label>
          <select title="" id="enemy" class="selectpicker" data-width="100%" tabindex="19"> </select>
        </div>
        <div class="form-group col-sm-3 col-3 px-2">
          <label for="difficultyLevel">難易度</label>
          <select title="" id="difficultyLevel" class="selectpicker" data-width="100%" tabindex="20"> </select>
        </div>
      </div>

      <!-- 防御行 -->
      <div class="row border-left border-right px-0">
        <div class="form-group col-4 px-2">
          <label for="defense">敵防御力</label>
          <input type="tel" id="defense" class="form-control" tabindex="21" />
        </div>
        <div class="form-group col-4 px-2">
          <label for="ignoreDefense">防御無視[%]</label>
          <input type="tel" id="ignoreDefense" class="form-control" tabindex="22" />
        </div>
        <div class="form-group col-4 px-2">
          <label for="defensiveDebuff">敵防御デバフ[%]</label>
          <input type="tel" id="defensiveDebuff" class="form-control" tabindex="23" />
        </div>
      </div>

      <div class="row border-left border-rightpx-0">
        <div class="form-group col-4 px-2">
          <label for="attribute">属性補正[%]</label>
          <input type="tel" id="attribute" class="form-control" tabindex="24" />
        </div>
        <div class="form-group col-4 px-2">
          <label for="species">種族特攻[%]</label>
          <input type="tel" id="species" class="form-control" tabindex="25" />
        </div>
        <div class="form-group col-4 px-2">
          <label for="statusAbnormality">状態異常特攻[%]</label>
          <input type="tel" id="statusAbnormality" class="form-control" tabindex="26" />
        </div>
      </div>

      <div class="row border-left border-rightpx-0">
        <div class="form-group col-4 px-2">
          <label for="specialEfficacy1">特効・補正１[%]</label>
          <input type="tel" id="specialEfficacy1" class="form-control" tabindex="27" />
        </div>
        <div class="form-group col-4 px-2">
          <label for="specialEfficacy2">特効・補正２[%]</label>
          <input type="tel" id="specialEfficacy2" class="form-control" tabindex="28" />
        </div>
        <div class="form-group col-4 px-2">
          <label for="specialEfficacy3">特効・補正３[%]</label>
          <input type="tel" id="specialEfficacy3" class="form-control" tabindex="29" />
        </div>
      </div>

      <div class="row border-left border-rightpx-0">
        <div class="form-group col-4 px-2">
          <label for="additionalDamage">追加ダメージ</label>
          <input type="tel" id="additionalDamage" class="form-control" tabindex="30" />
        </div>
        <div class="form-group col-4 px-2">
          <label for="offensiveDebuff">攻撃デバフ[%]</label>
          <input type="tel" id="offensiveDebuff" class="form-control" tabindex="31" />
        </div>
        <div class="form-group col-4 px-2">
          <label for="defensiveBuff">敵防御バフ[%]</label>
          <input type="tel" id="defensiveBuff" class="form-control" tabindex="32" />
        </div>
      </div>

      <div class="row border-left border-right border-bottompx-0 damage-row">
        <div class="form-group col-6 px-2 collapse multi-damage mb-0">
          <label for="hp">敵HP</label>
          <input type="tel" id="hp" class="form-control mb-2" tabindex="33" />
        </div>
        <div class="form-group col-6 px-2 collapse multi-damage mb-0">
          <label for="dph">総ダメージ下限 / 敵HP</label>
          <input type="tel" id="dph" class="form-control mb-2" readonly />
        </div>
        <div class="form-group col-6 px-2">
          <label for="damagePerHit">ダメージ / Hit</label>
          <input type="tel" id="damagePerHit" class="form-control" readonly />
        </div>
        <div class="form-group col-6 px-2">
          <label for="totalDamage">総ダメージ</label>
          <button
            type="button"
            class="btn btn-primary rounded-circle collapse-btn ml-1"
            data-toggle="collapse"
            data-target=".multi-damage"
            aria-expanded="false"
          >
            <img src="../dist/img/plus.png" class="plus" />
          </button>
          <input type="tel" id="totalDamage" class="form-control" readonly />
        </div>
      </div>
    </div>

    <!-- Modal -->
    <div class="modal fade" id="helpModal" tabindex="34-1" role="dialog" aria-labelledby="modalLabel" aria-hidden="true">
      <div class="modal-dialog modal-lg">
        <div class="modal-content" role="document">
          <div class="modal-header">
            <h5 class="modal-title" id="modalLabel">ヘルプ</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>

          <div class="modal-body">
            <div class="help-subtitle">◆項目説明</div>
            <ul>
              <li>メギド：メギド選択欄。入力欄に文字を打つ事で絞り込みが可能。攻撃力や特性、スキル等が変化する</li>
              <li>攻撃バフ： メギドの攻撃力バフ入力欄。複数付与されている場合は加算。心深圏のコンディションによる攻撃バフはここ。単位は％</li>
              <li>特性： メギドの特性表示欄。この数値はバフや特攻に適応されていないので、自身で適所に入力してください</li>
              <li>
                霊宝：
                霊宝選択欄。装備可能な霊宝が選択肢に現れます。霊宝のランクによって背景色が異なります。攻撃力は自動で加算。特性はメギドの特性同様に自動では適応されません。
              </li>
              <li>系譜： 系譜表示欄。装備した霊宝により系譜発動条件を満たすと表示されます。こちらも霊宝同様に特性は自動では適応されません</li>
              <li>専用霊宝： 専用霊宝選択欄。詳細は霊宝と同じです</li>
              <li>
                技： 技選択欄。メギドのスキルが表示されます。選択した技に応じて倍率やHit数が変化します。奥義やスキルにLvがある場合は該当選択欄が有効になります。
              </li>
              <li>
                スキルLv： スキルLv又はチェイン数選択欄。技選択欄で選んだ技にスキルLv、もしくはチェインがある場合は有効になります。Lvに応じで倍率が変化します。
              </li>
              <li>奥義Lv： 奥義Lv選択欄。技選択欄で奥義を選んだ場合に有効になります。Lvに応じて倍率が変化します</li>
              <li>倍率： 技倍率入力欄。技、スキルLv、奥義Lvに応じて変化します</li>
              <li>フォトン： フォトン選択欄</li>
              <li>クラス補正： クラス補正選択欄。ファイターorスナイパーが前列を攻撃するなら1.25。トルーパーが後列を攻撃するなら1.5</li>
              <li>凍結： 凍結チェック欄。敵が凍結状態ならチェック</li>
              <li>ゾンビ： ゾンビチェック欄。メギドがゾンビ状態ならチェック</li>
              <li>エリア： 敵の出現エリア選択欄。選択したい敵の居るエリアを選びます。v0.6.0現在は星間の禁域の一部の敵のみ実装してます</li>
              <li>敵の名前： 敵選択欄。選択したエリアに属する敵が選択肢に表示されます</li>
              <li>難易度： 難易度選択欄。選択した敵に難易度がある場合は有効になります。難易度に応じて敵HPと敵防御力に数値が入ります</li>
              <li>敵防御力： 敵防御力入力欄</li>
              <li>防御無視： 防御無視率入力欄。単位は％</li>
              <li>敵防御デバフ： 敵防御力デバフ入力欄。複数付与されている場合は積算。単位は％</li>
              <li>
                属性補正：
                属性補正入力欄。地形によるダメージ増加。ポルターガイストの特性「火ダメージを受けた際、被ダメージが2倍になる」、グリマルキンの覚醒スキル等の被ダメ上昇効果はここに該当します。複数ある場合は加算。単位は％。
              </li>
              <li>種族特攻： 種族特攻入力欄。複数ある場合は加算。別種族特攻であっても積算にはならない。単位は％</li>
              <li>状態異常特攻： 状態異常特攻入力欄。複数ある場合は加算。別状態異常特攻であっても積算にはならない。単位は％</li>
              <li>
                特攻・補正１～３：
                その他特攻・ダメージ補正入力欄。ダメージ補正は火・雷ダメージ上昇、単体・連続・列ダメージ上昇等。そして軽減系です。軽減にする場合は、-（半角ハイフン）をつけてください。単位は％。※1.
                複数付与されている場合の加算積算の関係は不明です。単体・連続は加算の関係らしい。※2. 軽減が複数かかっている場合は積算です。
              </li>
              <li>追加ダメージ： 追加ダメージ入力欄。1hitあたりの追加ダメージを入力してください</li>
              <li>攻撃デバフ： 攻撃力デバフ入力欄。複数付与されている場合は積算。単位は％</li>
              <li>敵防御バフ： 敵防御力バフ入力欄。複数付与されている場合は加算。単位は％</li>
              <li>敵HP： 敵HP入力欄。</li>
              <li>
                総ダメージ下限 / 敵HP： 総ダメージの最低ダメージを敵HPで割った値です。最低何％削れるかを見れます。100%を超えれば乱数に依らず確定で倒せます。
              </li>
              <li>ダメージ / Hit： 1Hitあたりのダメージです。±5%の振れ幅があります。</li>
              <li>総ダメージ： Hit数分の合計ダメージです。</li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
